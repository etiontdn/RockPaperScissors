<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Rock Paper Scissors</title>
  </head>
  <body>
    <script type="text/javascript">
      const options = ["rock", "paper", "scissors"];
      const results = {"rock": "scissors", "paper": "rock", "scissors": "paper"}

      function computerPlay () {
        return options[Math.floor(Math.random() * options.length)];
      }

      function playRound (playerSelection, computerSelection) {
        playerSelection = playerSelection.toLowerCase()
        if (playerSelection == computerSelection) {
          return ["Draw!", 0] ;
        } else if (results[playerSelection] == computerSelection) {
          return [`You Won ${playerSelection} beats ${computerSelection}.`, 1] ;
        } else {
          return [`You Lost ${computerSelection} beats ${playerSelection}.`, 2] ;
        }
      }

      function game () {
        let player_score = 0;
        let computer_score = 0;
        for (let i = 0; i < 5; i++) {
          let playerSelection = prompt("Rock paper or scissors?");
          let computerSelection = computerPlay();
          let round_result = playRound(playerSelection, computerSelection)
          console.log(`Computer selection: ${computerSelection}`);
          console.log(round_result[0]);
          switch (round_result[1]) {
            case 1:
              player_score++;
              break;
            case 2:
              computer_score++;
              break;
            default:
              "Nothing happens";
              break;
          }
        }
        console.log(`Final Scores: Player: ${player_score}, Computer: ${computer_score}`);
        if (player_score == computer_score) {
          console.log("It's a Draw!");
        } else {
          console.log(player_score > computer_score ? "You Won!" : "You Lost!");
        }
      }
      game();

    </script>
  </body>
</html>
